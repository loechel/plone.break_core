# -*- coding: utf-8 -*-

import ConfigParser
import logging
import os

#: Logger instance globaly used in this package 
logger = logging.getLogger("plone.vulnerabilitychecks.core")

#: URL of the vulnerability data base
VULNERABILITY_DB_URL = VulnerabilityConfig.VULNERABILITY_DB_URL
#vulnerability_db_url = "http://plone.org/"

#: URL of Python Package Index 
#: used to recive JSON data from package index
PYPI_URL = "https://pypi.python.org/pypi/"


class VulnerabilityError(Exception):
    """VulnerabilityError is an Exception that indicates 
    that an insecure Plone version is in use.
    """

    #def __str__(self):
    #    return " ".join(map(str, self.args))

class VulnerabilityConfig(object):

	def __init__(self):

        config = ConfigParser.ConfigParser()
        config.readfp(open('vulnerabilitychecks.ini', 'r'))

        VULNERABILITY_DB_URL = config.get('vulnerabilitychecks', 'source-url', "http://testplone.org/")


